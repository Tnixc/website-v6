<!doctype html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/output.css" />
  <link rel="stylesheet" href="/syntax.css" rel="preload" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tnixc.space" />
  <meta property="og:description" content="Tnixc's very own website" />
  <meta property="og:url" content="https://tnixc.space" />
  <meta
    property="og:image"
    content="https://utfs.io/f/50bfdf64-4309-4220-98b4-04a7f7e501b9-p3anp9.png"
  />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter/X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="tnixc.space" />
  <meta name="twitter:description" content="Tnixc's very own website" />
  <meta
    name="twitter:image"
    content="https://utfs.io/f/50bfdf64-4309-4220-98b4-04a7f7e501b9-p3anp9.png"
  />
  <meta name="twitter:image:width" content="1200" />
  <meta name="twitter:image:height" content="630" />

  <meta name="description" content="Tnixc's very own website - v6" />
  <title>tnixc.space</title>
  <script
    defer
    src="https://cloud.umami.is/script.js"
    data-website-id="d41f775b-3a39-4ed9-b68a-5afe73974f01"
  ></script>
</head>

  <body
    class="bg-neutral-200 flex flex-col lg:flex-row p-2 justify-center selection:bg-stone-400/60 lg:pt-64"
  >
    <div class="font-mono flex flex-col gap-8 p-6 h-fit min-w-36">
  <style>
#small-logo{
  clip-path: polygon(100% 0, 100% 100%, calc(0% + 12px) 100%, 0 calc(100% - 12px), 0 0);
}
#small-logo p {
    background: linear-gradient(to left, #ef4444E0 20%, #ef4444A0 20%, #ef4444A0 40%, #ef444470 40%,#ef444470 60%, #ef444440 60%, #ef444440 60%,#ef444440 80%, #ef444410 80%);
    filter: saturate(0.6);
}
</style>
<div
  class="bg-amber-500 w-36 h-auto bg-yellow-600/50 h-12 w-40 flex items-center group"
  id="small-logo"
>
  <div class="h-12 w-12  grid place-items-center">
    <div class="h-6 w-6 bg-neutral-200 border-yellow-600 rounded-full border-4 relative z-40"></div>
  </div>
  <div class="h-full w-[1px] bg-amber-900/40"></div>
  <div class="h-full w-[1px]"></div>
  <div class="h-full w-[1px] bg-amber-900/40"></div>
  <p class="text-2xl px-1 text-amber-950/80 mr-2 ml-auto shadow-[0_0_0_2px_#ef4444] select-none group-hover:animate-pulse">TNIXC</p>
</div>

  <div class="flex flex-col gap-5 pl-2">
    <a
      class="hover:underline underline-offset-[6px] w-fit decoration-2"
      href="/index.html"
      >about me</a
    >
    <a
      class="hover:underline underline-offset-[6px] w-fit decoration-2"
      href="/projects.html"
      >projects</a
    >
    <a
      class="hover:underline underline-offset-[6px] w-fit decoration-2"
      href="/writing.html"
      >writing</a
    >
    <a
      class="hover:underline underline-offset-[6px] w-fit decoration-2"
      href="/random.html"
      >random</a
    >
  </div>
</div>

    <main class="md:max-w-screen-md w-full p-6 inv">
      
<a href="/writing.html" class="font-mono py-4 block w-fit underline-offset-[6px] decoration-2 hover:underline">[&lt;back]</a>
<h1 class="font-grotesk text-3xl">Simple - Building a component-based static site assembler</h1>
<p class="text-neutral-500 pt-1">Published 18/07/2024</p>
<p class="pt-3">
    I should have just used Astro. Also SPAs are faster.
</p>
<div class="py-8">
    <hr class="border-[1.5px] border-neutral-400/50" />
</div>
<article class="prose">

    <!-- prettier-ignore -->
<p>I have an unhealthy addiction to redoing my personal website every few months (I have an article the history of this site <a href="https://tnixc.space/content/site_history.html">here</a>). As of v6, I've already tried Vue(and Nuxt), Svelte(kit), as well as Astro, and I was getting pretty tired of those.</p>
<p>So obviously, I decided to write my own component-based html assembler in rust, and I'm calling it <strong>simple</strong> because it is. It was quite daunting at first, but now that it's somewhat functional it seemed pretty easy, although some compromises were made. It's pretty damn slow right now, hopefully I can fix that.</p>
<h1>Features</h1>
<ul>
<li>Components, with props and slots.</li>
<li>Templating engine</li>
<li><code>&lt;markdown&gt;</code> component for rendering markdown.</li>
</ul>
<h1>Todo</h1>
<p>This is a project that I do want to keep working on, and I want to make it proper. Here's some goals for this project that I still want to implement:</p>
<ul>
<li><input type="checkbox" disabled="" /> Fix bugs (extremely buggy right now).</li>
<li><input type="checkbox" disabled="" /> Include formatting and minify-ing support.</li>
<li><input type="checkbox" disabled="" /> Fix problem where there are 2 sources of truth for md in the current way I do blog posts, will hopefully be fixed with proper md rendering.</li>
<li><input type="checkbox" disabled="" /> Actually good logs with color, status, etc.</li>
<li><input type="checkbox" disabled="" /> Keep some elements loaded to avoid reading from disk every time.</li>
<li><input type="checkbox" disabled="" /> Switch to using a .config file</li>
<li><input type="checkbox" disabled="" /> Proper escaping from <code>{}, &quot;&quot;</code>, etc.</li>
<li><input type="checkbox" checked="" disabled="" /> Check for circular deps.</li>
<li><input type="checkbox" disabled="" /> Implement MD rendering (external lib) from .md files. Not needed tho maybe?</li>
<li><input type="checkbox" disabled="" /> Look into testing (tons of edge cases)</li>
<li><input type="checkbox" disabled="" /> OG Image and meta generation, especially for markdown posts</li>
<li><input type="checkbox" disabled="" /> Give warnings for unused and not found components</li>
<li><input type="checkbox" disabled="" /> CSS scoping in components but waiting for <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@scope">@scope general support</a> , so just use tailwind for now</li>
<li><input type="checkbox" disabled="" /> Type safety-ish warnings when template doesn't match data</li>
<li><input type="checkbox" disabled="" /> Cache what has changed with hashing so no need to rebuild if stuff is same. -&gt; can massively speed it up if lots of templating.</li>
<li><input type="checkbox" disabled="" /> Improve flexibility w/ markdown syntax highlighting</li>
<li><input type="checkbox" disabled="" /> Watcher or HMR (HMR is too complex so probably not) -&gt; livejs is not ideal and is quite broken rn.</li>
<li><input type="checkbox" checked="" disabled="" /> <code>&lt;markdown&gt;</code> component</li>
<li><input type="checkbox" checked="" disabled="" /> Commands such as <code>dev</code>, <code>build</code>, <code>new</code>.</li>
<li><input type="checkbox" checked="" disabled="" /> Props and slots</li>
<li><input type="checkbox" checked="" disabled="" /> The error handling is abysmal. Mainly due to me using unwrap(), Result type and ? everywhere. - more work to be done but it's in an ok state for now</li>
<li><input type="checkbox" checked="" disabled="" /> Make it so it ignores commented out lines.</li>
<li><input type="checkbox" checked="" disabled="" /> Speed tests.</li>
<li><input type="checkbox" checked="" disabled="" /> Get templates working</li>
<li><input type="checkbox" checked="" disabled="" /> Get components working</li>
<li><input type="checkbox" checked="" disabled="" /> Copy files from /public to /dist</li>
</ul>
<p>In reality, it's just a lot of regexing and string manipulation. I've got the easy parts down, now it's up to me to keep going and implement the harder stuff. I've only spent around ~10 hours seriously working on this, and it's around 600 lines of rust at the moment.</p>
<hr />
<h1>Syntax</h1>
<p>The file tree should look something like this:</p>
<pre class="syntax-highlighting"><code class="language-rust"><span class="source rust">example
└── src
    ├── components
    │  ├── Component.html
    │  └── Folder
    │     └── Component.html
    ├── data
    │  └── Something.json
    ├── pages
    │  ├── folder
    │  │  └── page.html
    │  └── index.html
    ├── public
    │  ├── image.png
    │  ├── folder
    │  │  └── image2.png
    └── templates
        └── Something.html
</span></code></pre>
<h3>Components</h3>
<p>Components, and folders in /components must be in <code>PascalCase</code>. The first letter must be capitalized.</p>
<p>To use a component:</p>
<pre class="syntax-highlighting"><code class="language-html"><span class="text html basic"><span class="meta tag other html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag other html">Component</span><span class="punctuation definition tag end html"> /&gt;</span></span>
</span></code></pre>
<p>It searches from /components, so if a component is in a subfolder do this:</p>
<pre class="syntax-highlighting"><code class="language-html"><span class="text html basic"><span class="meta tag other html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag other html">Folder:Component</span><span class="punctuation definition tag end html"> /&gt;</span></span>
</span></code></pre>
<p>so don't use <code>:</code> in your component or folder names.</p>
<h3>Templates</h3>
<p>The templates are stored in /templates, and the data for the corresponding template is in /data.</p>
<p>A data file should have the same name as the template file. Keep in mind the template file is the one that's being repeated.</p>
<p>To use:</p>
<pre class="syntax-highlighting"><code class="language-html"><span class="text html basic">&lt;-{Template} /&gt;
</span></code></pre>
<p>And in templates/Template.html and data/Template.json,</p>
<pre class="syntax-highlighting"><code class="language-html"><span class="text html basic"><span class="meta tag block any html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag block any html">p</span><span class="punctuation definition tag end html">&gt;</span></span>${something}<span class="meta tag block any html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag block any html">p</span><span class="punctuation definition tag end html">&gt;</span></span>
</span></code></pre>
<p>Will match</p>
<pre class="syntax-highlighting"><code class="language-json"><span class="source json"><span class="meta structure array json"><span class="punctuation section array begin json">[</span><span class="meta structure dictionary json"><span class="punctuation section dictionary begin json">{</span> <span class="meta structure dictionary key json"><span class="string quoted double json"><span class="punctuation definition string begin json">&quot;</span>something<span class="punctuation definition string end json">&quot;</span></span></span><span class="meta structure dictionary value json"><span class="punctuation separator dictionary key-value json">:</span> <span class="string quoted double json"><span class="punctuation definition string begin json">&quot;</span>a<span class="punctuation definition string end json">&quot;</span></span> </span><span class="punctuation section dictionary end json">}</span></span><span class="punctuation separator array json">,</span> <span class="meta structure dictionary json"><span class="punctuation section dictionary begin json">{</span> <span class="meta structure dictionary key json"><span class="string quoted double json"><span class="punctuation definition string begin json">&quot;</span>something<span class="punctuation definition string end json">&quot;</span></span></span><span class="meta structure dictionary value json"><span class="punctuation separator dictionary key-value json">:</span> <span class="string quoted double json"><span class="punctuation definition string begin json">&quot;</span>b<span class="punctuation definition string end json">&quot;</span></span> </span><span class="punctuation section dictionary end json">}</span></span><span class="punctuation section array end json">]</span></span>
</span></code></pre>
<p>You can use components in templates and vice versa. It recursively resolves each one so if a lot of places use a component it could become inefficient because it reads from disk every time. It also doesn't halt on circular dependencies (yet!).</p>
<p>It also works with tailwind:</p>
<pre class="syntax-highlighting"><code class="language-sh"><span class="source shell bash"><span class="meta function-call shell"><span class="variable function shell">bunx</span></span><span class="meta function-call arguments shell"> tailwindcss<span class="variable parameter option shell"><span class="punctuation definition parameter shell"> -</span>i</span> ./src/public/input.css<span class="variable parameter option shell"><span class="punctuation definition parameter shell"> -</span>o</span> ./src/public/output.css<span class="variable parameter option shell"><span class="punctuation definition parameter shell"> --</span>watch</span></span>
</span></code></pre>
<hr />
<p>I tried to build it with minimal dependencies.</p>
<ol>
<li><code>comrak</code> → markdown parser.</li>
<li><code>fancy-regex</code> → Regex for negative lookbehind/lookahead for comments.</li>
<li><code>notify</code> → File watcher to rebuild during <code>simple dev</code>.</li>
<li><code>rouille</code> → Web server to serve <code>dist</code> during <code>simple dev</code>.</li>
<li><code>serde_json</code> → JSON deserialization for data.json parsing.</li>
</ol>
<p>After all, it's too simple to warrant a large number of dependencies.</p>
<hr />
<p>Of course there's no reactivity, though I would like to build my own framework with reactivity someday. That's why I called this an &quot;assembler&quot; and not a &quot;framework&quot;. Not much logic here. It also feels surprisingly fast in dev when I save and see the changes, but I haven't tested it with a lot of components yet. And actually, SPAs feel faster than sites like these, and if you want something actually good for templating, you should use tera and extend it.</p>
<blockquote>
<p>You can view the source code <a href="https://github.com/Tnixc/simple">here</a>(it's really bad).
This article is super outdated now, check out the readme on the github for updates!</p>
</blockquote>


</article>

      <div
  class="sm:my-20 my-6 font-mono flex justify-between flex-col gap-4 bg-neutral-400/10 p-2 text-sm"
>
  <hr class="border-[1.5px] border-neutral-400/30" />
  <div class="justify-between flex md:flex-row flex-col gap-3">
    <a
      href="https://github.com/Tnixc"
      class="hover:underline underline-offset-[6px] decoration-2 flex w-fit whitespace-nowrap bg-neutral-400/20"
      target="_blank"
      >[github]<svg
  class="w-4 h-4"
  xmlns="http://www.w3.org/2000/svg"
  width="32"
  height="32"
  viewBox="0 0 24 24"
>
  <path
    fill="currentColor"
    d="M6 7c0 .55.45 1 1 1h7.59l-8.88 8.88a.996.996 0 1 0 1.41 1.41L16 9.41V17c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1"
  />
</svg>
</a>
    <a
      href="https://x.com/_Tnixc"
      class="hover:underline underline-offset-[6px] decoration-2 flex w-fit whitespace-nowrap bg-neutral-400/20"
      target="_blank"
      >[twitter]<svg
  class="w-4 h-4"
  xmlns="http://www.w3.org/2000/svg"
  width="32"
  height="32"
  viewBox="0 0 24 24"
>
  <path
    fill="currentColor"
    d="M6 7c0 .55.45 1 1 1h7.59l-8.88 8.88a.996.996 0 1 0 1.41 1.41L16 9.41V17c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1"
  />
</svg>
</a>
    <span class="whitespace-nowrap bg-neutral-400/20 w-fit"
      >discord: &#64;Tnixc</span
    >
    <span class="whitespace-nowrap bg-neutral-400/20 w-fit"
      >tnixxc&#64;gmail.com</span
    >
  </div>
  <hr class="border-[1.5px] border-neutral-400/30" />
  <div class="gap-4 flex text-neutral-700 justify-end w-fit flex-col">
    <a
      href="/content/about.html"
      class="hover:underline underline-offset-[6px] decoration-2 flex whitespace-nowrap w-fit"
      >[about this site]</a
    >
    <a
      href="https://github.com/Tnixc/website-v6"
      class="hover:underline underline-offset-[6px] decoration-2 flex whitespace-nowrap w-fit"
      target="_blank"
      >[source code]<svg
  class="w-4 h-4"
  xmlns="http://www.w3.org/2000/svg"
  width="32"
  height="32"
  viewBox="0 0 24 24"
>
  <path
    fill="currentColor"
    d="M6 7c0 .55.45 1 1 1h7.59l-8.88 8.88a.996.996 0 1 0 1.41 1.41L16 9.41V17c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1"
  />
</svg>
</a>
  </div>
  <div class="gap-4 flex text-neutral-700 justify-end w-full">
    <a
      class="hover:underline grid place-items-center font-sans underline-offset-[6px] decoration-2 whitespace-nowrap aspect-square"
      href="https://ctp-webr.ing/tnixc/previous"
      >&lt;-</a
    >
    <a
      class="hover:underline grid place-items-center content-center underline-offset-[6px] decoration-2 text-center"
      href="https://ctp-webr.ing/"
      >catppuccin webring</a
    >
    <a
      class="hover:underline grid place-items-center font-sans underline-offset-[6px] decoration-2 whitespace-nowrap aspect-square"
      href="https://ctp-webr.ing/tnixc/next"
      >-&gt;</a
    >
  </div>
</div>

    </main>
    <div class="xl:max-w-44 w-full max-w-0 transition-all duration-500"></div>
  </body>
</html>


